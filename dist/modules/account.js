webpackJsonp([0],{0:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}a(8);var r=a(12),o=n(r),s=a(39),l=n(s),i=a(177),c=n(i),u=a(243),d=n(u),f=a(253),p=n(f),m=a(258),h=n(m),g=a(188);/*!
	 * by 李双宝
	 */
l.default.render(o.default.createElement(g.Router,{onUpdate:function(){return window.scrollTo(0,0)},history:g.browserHistory},o.default.createElement(g.Route,{path:"/",component:c.default},o.default.createElement(g.Route,{path:"account"},o.default.createElement(g.IndexRoute,{component:d.default}),o.default.createElement(g.Route,{path:"addresses",component:p.default}),o.default.createElement(g.Route,{path:"address(/:id)",component:h.default})))),document.querySelector("#bootstrap"))},8:function(e,t,a){var n=a(9);"string"==typeof n&&(n=[[e.id,n,""]]);var r=a(11)(n,{});n.locals&&(e.exports=n.locals),n.locals||e.hot.accept(9,function(){var t=a(9);"string"==typeof t&&(t=[[e.id,t,""]]),r(t)}),e.hot.dispose(function(){r()})},9:function(e,t,a){t=e.exports=a(10)(),t.push([e.id,'body{-webkit-user-select:none;user-select:none;overflow-x:hidden;background-color:#f8f8f8}.bg-white,.bgwhite{background-color:#fff!important}.ex-page{min-height:100vh;overflow:hidden;background-color:#f8f8f8;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-transition-property:-webkit-transform;transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform;-webkit-transition-duration:.3s;transition-duration:.3s}.ex-page:before{clear:both;content:"";display:table}.ex-page.view-enter,.ex-page.view-leave{position:absolute;top:0;left:0;right:0;width:100%}.notrans{-webkit-transform:none;transform:none}.ahead .view-enter{z-index:2;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}.ahead .view-enter.view-enter-active,.ahead .view-leave{-webkit-transform:translateZ(0);transform:translateZ(0)}.ahead .view-leave{z-index:1}.ahead .view-leave.view-leave-active,.backoff .view-enter{-webkit-transform:translate3d(-30%,0,0);transform:translate3d(-30%,0,0)}.backoff .view-enter{z-index:1}.backoff .view-enter.view-enter-active,.backoff .view-leave{-webkit-transform:translateZ(0);transform:translateZ(0)}.backoff .view-leave{z-index:2}.backoff .view-leave.view-leave-active{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}.carousel{position:relative;overflow:hidden}.carousel .slider{position:absolute!important;top:0;bottom:0}.carousel .slider,.carousel .slider .slider-frame{height:100%!important}.carousel .slider [class^=slider-decorator]{width:100%;bottom:0;top:auto!important}.carousel .slider [class^=slider-decorator] nav{position:absolute;bottom:10px;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);line-height:normal}.carousel .slider [class^=slider-decorator] nav a{display:inline-block;width:16px;height:2px;margin:0 2px;vertical-align:middle;overflow:hidden;background-color:hsla(0,0%,100%,.5)}.carousel .slider [class^=slider-decorator] nav a.active{background-color:#fff}.list.compact{margin-top:-1px}.loader{position:relative;-webkit-transform:translateZ(0);transform:translateZ(0)}.tabpane{display:none}.tabpane.active{display:block}.swing.fixed .tablet{position:fixed;top:0;left:0;width:100%;z-index:100;box-shadow:0 5px 20px rgba(0,0,0,.1)}.cases{margin:10px}.cases .header{padding:10px 0}.cases .header .title{display:inline-block;font-weight:400;padding-left:10px;line-height:1.2rem;margin-bottom:10px;font-size:15px;border-left:4px solid #ff5a32}.cases .content{margin-left:-5px;margin-right:-5px;margin-top:-10px}.cases .content:after{content:"\\200";visibility:hidden;clear:both;display:block;font-size:0;height:0}.cases .content .item{float:left;width:50%;padding:10px 5px 0;color:#666}.cases .content .item .panel{position:relative;background-color:#fff;border-radius:5px;overflow:hidden}.cases .content .item .panel .figure{position:relative;display:block;overflow:hidden;padding-top:100%;background:transparent url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAvCAAAAAB2oJONAAAAAnRSTlMA/1uRIrUAAAE2SURBVEjH7dZdb4IwFAbg/v+/dGjBLU4HG8zFuMaFCBECbkTHIrt9dyHyMQeE9s54rjhJ+7T0K4cBiS1IKYSdAAyS3CBSisAlCZZSBOWIKGWOC41wHcZDHSAUjLY6wJZuwA24AdcPZEGsAxQz4gaPlIHj3fQLeKONIvA9mQEAfPKVgNyal18belcADqZdv7okRwN74bRarEYCmXhu5bGxHAV8cu9Pm8R4bWQ/A8COv1yMsuOLanumZH30Ae3RLmaVW/NsYSTdQNf/luty2p6lEXcB3Su+F08AzNP2rFpdGkDfnh9MG8jKRFL4H9B/6nLrsU7W1SVpAEPn/nw/2o1rYD14846Thzo5T7cCCjFcqBT3frM0Ka7nUdWs0jhzPB3Ac1hKsXr/mFIGSW6oViuHLkkw3Wr9F+lrTgHcjDsHAAAAAElFTkSuQmCC") 50% no-repeat;background-size:32px 24px}.cases .content .item .panel .figure>img{position:absolute;top:50%;left:50%;width:100%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.cases .content .item .panel .text{position:relative;padding:8px 10px;font-size:15px}.cases .content .item .panel .text:before{content:" ";position:absolute;left:0;top:0;right:0;height:1px;border-top:1px solid #d9d9d9;color:#d9d9d9;-webkit-transform-origin:0 0;transform-origin:0 0;-webkit-transform:scaleY(.5);transform:scaleY(.5)}.cases .content .item .panel .text .name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-wrap:normal;font-weight:400}.cases .content .item .panel .text .brief{margin-top:5px;font-size:14px}.cases .content .item .panel .text .brief i{font-style:normal}.main.has-footer{margin-bottom:58px}',""])},243:function(e,t,a){(function(e){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=a(12),c=n(i),u=a(188),d=a(247),f=n(d),p=a(251),m=(n(p),a(252)),h=n(m),g=function(t){function a(e){r(this,a);var t=o(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.state={title:"我的",loading:!!CF.member.memberId},t}return s(a,t),l(a,[{key:"componentDidMount",value:function(){var t=this;CF.member.memberId&&e.get("/account/ajax/wallet",function(e){200===e.code&&t.setState({wallet:e.data.entity}),t.setState({loading:!1})})}},{key:"render",value:function(){var e=this.state.wallet;return c.default.createElement(f.default,{className:"home",title:this.state.title},c.default.createElement("section",{className:"main"},c.default.createElement("div",{className:"list compact"},c.default.createElement("a",{className:"item",href:"/wallet"},c.default.createElement("div",{className:"avatar"},c.default.createElement("img",{width:"16",src:"//img1.qdingnet.com/image-4e820acc-09a5-41df-952d-67ad09c69f5b.png"})),c.default.createElement("span",{className:"text"},"我的钱包"),e&&e.slogan.length>0&&c.default.createElement("span",{className:"extra"},c.default.createElement("span",{className:"text-driving"},e.slogan[0])),c.default.createElement("i",{className:"icon text-gray"},"")),c.default.createElement("div",{is:!0,class:"item thread split text-sm","ui-mode":"10px 0px"},c.default.createElement("a",{className:"text text-dark text-center",href:"/wallet/records"},c.default.createElement("p",null,h.default.currency(e?e.account.availableAmount:0,2)),c.default.createElement("p",null,"账户余额")),c.default.createElement("a",{className:"text text-dark text-center",href:"/integral"},c.default.createElement("p",null,e?e.accountIntegral:0),c.default.createElement("p",null,"我的积分")),c.default.createElement("a",{className:"text text-dark text-center",href:"/account/coupons"},c.default.createElement("p",null,h.default.currency(e?e.accountQdTicket:0,2)),c.default.createElement("p",null,"千丁券")))),c.default.createElement("div",{className:"list"},c.default.createElement("a",{className:"item",href:"/location"},c.default.createElement("i",{className:"icon"},""),c.default.createElement("span",{className:"text"},"我的社区"),c.default.createElement("span",{className:"extra"},CF.project.name),c.default.createElement("i",{className:"icon text-gray"},""))),c.default.createElement("div",{className:"list"},c.default.createElement("a",{className:"item",href:"/account/orders"},c.default.createElement("div",{className:"avatar"},c.default.createElement("img",{width:"16",src:"//img1.qdingnet.com/899826a5bde2edb56611b67b0ba7c7ae.png"})),c.default.createElement("span",{className:"text"},"我的订单"),c.default.createElement("i",{className:"icon text-gray"},"")),c.default.createElement(u.Link,{className:"item",to:"/account/addresses"},c.default.createElement("div",{className:"avatar"},c.default.createElement("img",{width:"16",src:"//img1.qdingnet.com/41a2bbb947f173727de845f70f7c36ab.png"})),c.default.createElement("span",{className:"text"},"我的地址"),c.default.createElement("i",{className:"icon text-gray"},"")),c.default.createElement("a",{className:"item",href:"/shopping/cart"},c.default.createElement("div",{className:"avatar"},c.default.createElement("img",{width:"16",src:"//img1.qdingnet.com/f15e58120c2c48a10ea98680ec7eb1b5.png"})),c.default.createElement("span",{className:"text"},"我的购物车"),c.default.createElement("i",{className:"icon text-gray"},""))),c.default.createElement("div",{className:"list"},c.default.createElement("a",{className:"item",href:"/account/remind"},c.default.createElement("div",{className:"avatar"},c.default.createElement("img",{width:"16",src:"//img1.qdingnet.com/8831d827cfbbae61cc86183f905a7354.png"})),c.default.createElement("span",{className:"text"},"消息中心"),c.default.createElement("i",{className:"icon text-gray"},"")),c.default.createElement("a",{className:"item",href:"tel:400-081-8181"},c.default.createElement("div",{className:"avatar"},c.default.createElement("img",{width:"16",src:"//img1.qdingnet.com/b5704e34f73d3b70593934548a771b5c.png"})),c.default.createElement("span",{className:"text"},"客服热线"),c.default.createElement("span",{className:"text text-right"},"400-081-8181"),c.default.createElement("i",{className:"icon text-gray"},"")))))}}]),a}(i.Component);g.propTypes={},g.defaultProps={},t.default=g}).call(t,a(244))},252:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={default:function(e,t){return"undefined"!=typeof e?e:t},currency:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"￥";return e=Number(e),/^[\d.]+$/.test(e)?a+e.toFixed(e%1===0?0:t):""},date:function(e,t){e=e.constructor===Date?e:new Date(e);var a={"y+":e.getFullYear(),"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),"S+":e.getMilliseconds()};for(var n in a)if(new RegExp("("+n+")").test(t))if("y+"==n)t=t.replace(RegExp.$1,(""+a[n]).substr(4-RegExp.$1.length));else if("S+"==n){var r=RegExp.$1.length;r=1==r?3:r,t=t.replace(RegExp.$1,("00"+a[n]).substr((""+a[n]).length-1,r))}else t=t.replace(RegExp.$1,1==RegExp.$1.length?a[n]:("00"+a[n]).substr((""+a[n]).length));return t}};t.default=a},253:function(e,t,a){(function(e){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=a(12),c=n(i),u=a(188),d=a(247),f=n(d),p=a(249),m=n(p),h=a(254),g=n(h),b=a(255),v=n(b),y=a(257),E=n(y),w=a(251),N=(n(w),a(252)),x=(n(N),function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return k.call(a),a.state={title:"我的地址",loading:!0,list:[],prefix:location.pathname.split("/")[1]},a}return s(t,e),l(t,[{key:"renderList",value:function(){var e=this;return this.state.loading||0!==this.state.list.length?this.state.list.map(function(t,a){return c.default.createElement("div",{key:a,className:"list"},c.default.createElement(u.Link,{is:!0,class:"item","ui-mode":"15px",to:"/"+e.state.prefix+"/address/"+t.id},c.default.createElement("i",{className:"icon text-xl text-darkgray"},""),c.default.createElement("div",{className:"text"},c.default.createElement("p",{className:"text-justify text-md"},c.default.createElement("span",null,t.name),c.default.createElement("span",{className:"value text-right"},t.mobile)),c.default.createElement("div",{className:"brief"},t.addressStr)),c.default.createElement("i",{className:"icon"},"")),c.default.createElement("div",{className:"item"},c.default.createElement("label",{className:"text text-sm text-darkgray"},c.default.createElement("input",{className:"checkbox",type:"radio",name:"defaultFlag",checked:t.defaultFlag,onChange:e.handleDefault.bind(e,t,a)}),"设为默认"),c.default.createElement("div",{className:"extra"},c.default.createElement("div",{className:"button-group"},c.default.createElement(u.Link,{className:"button default sm",to:"/"+e.state.prefix+"/address/"+t.id},c.default.createElement("i",{className:"icon"},""),"编辑"),c.default.createElement("a",{className:"button default sm",disabled:t.defaultFlag,onClick:e.handleDelete.bind(e,t)},c.default.createElement("i",{className:"icon"},""),"删除")))))}):c.default.createElement("div",{className:"feedback"},c.default.createElement("div",{className:"mark"},c.default.createElement("img",{width:"220",height:"220",src:"//img1.qdingnet.com/b70973ae84276a865ae7ae673ea1e318.png",alt:"空白"})),c.default.createElement("div",{className:"describe"},"还没有地址，去添加一个吧！"),c.default.createElement("div",{className:"vspace hspace"},c.default.createElement(u.Link,{className:"button driving",to:"/"+this.state.prefix+"/address"},"新增地址")))}},{key:"render",value:function(){this.state.wallet;return c.default.createElement(f.default,{className:"addresses",title:this.state.title,widget:this.state.widget},c.default.createElement("section",{className:"main has-footer"},c.default.createElement(g.default,{url:"/account/ajax/addresses",callback:this.appendList,ends:null},c.default.createElement("div",{className:"content"},this.renderList()))),this.state.list.length>0&&c.default.createElement(m.default,{component:"footer",className:"btm-fixed"},c.default.createElement("div",{className:"button-group compact"},c.default.createElement(u.Link,{className:"button driving square",to:"/"+this.state.prefix+"/address"},"新增地址"))))}}]),t}(i.Component));x.propTypes={},x.defaultProps={};var k=function(){var t=this;this.clearWidget=function(){t.setState({widget:null})},this.appendList=function(e){t.setState({loading:!1,list:t.state.list.concat(e)})},this.handleDefault=function(a,n){a.defaultFlag||(t.setState({widget:c.default.createElement(E.default,{icon:"loading",message:"请稍后",time:1e4,callback:t.clearWidget})}),e.post("/account/ajax/default",{id:a.id},function(e){200===e.code?(t.state.list.map(function(e,t){return e.defaultFlag=t===n?1:0,e}),t.setState({list:t.state.list,widget:c.default.createElement(E.default,{icon:"success",message:"设置成功",callback:t.clearWidget})})):t.setState({widget:c.default.createElement(E.default,{icon:"failure",message:"设置失败",callback:t.clearWidget})})}))},this.handleDelete=function(a){var n={title:"警告",message:"您确认要删除这条记录吗？",buttons:[[{text:"删除",className:"text-warning",onClick:function(){t.setState({widget:c.default.createElement(E.default,{icon:"loading",message:"请稍后",time:1e4})}),e.ajax({url:"/account/ajax/address",type:"delete",data:{id:a.id},success:function(e){if(200===e.code){var n=t.state.list;n.splice(n.indexOf(a),1),t.setState({list:n,widget:c.default.createElement(E.default,{icon:"success",message:"删除成功",callback:t.clearWidget})})}}})}}],[{text:"取消",className:"text-gray",onClick:t.clearWidget}]]};t.setState({widget:c.default.createElement(v.default,n)})}};t.default=x}).call(t,a(244))},254:function(e,t,a){(function(e){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(12),u=n(c),d=a(248),f=n(d),p=function(t){function a(t){o(this,a);var n=s(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,t));return n.state={threshold:300,hasmore:!0,loading:!1,count:0,page:n.props.page},n.events=["scroll","resize","lookup"],n.handler=function(t){n.refs.panel.offsetParent&&document.body.scrollHeight-document.body.scrollTop-document.documentElement.clientHeight<n.state.threshold&&n.loadMore(function(t){var a=n.props.callback||e.noop;a(t,n.state.page)})},n}return l(a,t),i(a,[{key:"loadMore",value:function(t){var a=this;this.state.hasmore&&!this.state.loading&&(this.setState({loading:!0}),this.request=e.ajax({url:this.props.url,data:{page:this.state.page,size:this.props.size},cache:!1,success:function(e){a.setState({loading:!1}),200===e.code?(t(e.data.list),a.setState({page:a.state.page+1,count:a.state.count+e.data.list.length}),e.data.list.length<a.props.size&&(a.release(),a.setState({hasmore:!1}))):t([])}}))}},{key:"release",value:function(){var t=this;this.request&&this.request.abort(),this.events.forEach(function(a){e(window).off(a,t.handler)})}},{key:"componentDidMount",value:function(){var t=this;this.events.forEach(function(a){e(window).on(a,t.handler)}),this.props.load?this.loadMore(function(a){var n=t.props.callback||e.noop;n(a,t.state.page)}):1===this.state.page&&this.setState({page:2})}},{key:"componentWillUnmount",value:function(){this.release()}},{key:"renderLoading",value:function(){return this.state.loading?u.default.createElement("div",{className:"loadmore"},u.default.createElement("i",{className:"loading"}),u.default.createElement("span",{className:"tips text-gray"},this.props.tips)):!this.state.hasmore&&this.state.count&&this.props.ends?u.default.createElement("div",{is:!0,class:"divider","ui-mode":"30%"},this.props.ends):void 0}},{key:"render",value:function(){var e=this.props,t=e.className,a=(r(e,["className"]),(0,f.default)("loader",t));return u.default.createElement("div",{ref:"panel",className:a},this.props.children,this.renderLoading())}}]),a}(c.Component);p.propTypes={url:c.PropTypes.string.isRequired,page:c.PropTypes.number,size:c.PropTypes.number,load:c.PropTypes.bool,tips:c.PropTypes.string,ends:c.PropTypes.string},p.defaultProps={page:1,size:20,load:!0,tips:"正在加载",ends:"已经到底啦"},t.default=p}).call(t,a(244))},255:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(12),d=n(u),f=a(39),p=(n(f),a(248)),m=n(p),h=a(256),g=n(h),b=function(e){function t(e){o(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.dismiss=function(e){a.setState({show:!1})},a.state={show:a.props.show},a}return l(t,e),c(t,[{key:"render",value:function(){var e=this,t=this.props,a=(t.show,t.title),n=t.message,o=t.buttons,s=t.className,l=r(t,["show","title","message","buttons","className"]),c=(0,m.default)("actionsheet",s);return d.default.createElement(g.default,{show:this.state.show},d.default.createElement("div",i({className:c},l),(a||n)&&d.default.createElement("header",{className:"header"},a&&d.default.createElement("h4",null,a),n),o.map(function(t,a){return d.default.createElement("div",{key:a,className:"menus"},t.map(function(t,a){var n=t.text,o=t.className,s=t.onClick,l=void 0===s?e.dismiss:s,c=r(t,["text","className","onClick"]),u=(0,m.default)("item",o);return d.default.createElement("div",i({key:a,className:u,onClick:l},c),n)}))})))}}]),t}(u.Component);b.propTypes={show:u.PropTypes.bool,title:u.PropTypes.string,message:u.PropTypes.string,buttons:u.PropTypes.array.isRequired},b.defaultProps={show:!0},t.default=b},256:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(12),d=n(u),f=a(248),p=n(f),m=function(e){function t(e){o(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={},a}return l(t,e),c(t,[{key:"delegate",value:function(e){var t=this;return function(a){if(a.target===t.refs.mask)return e&&e()}}},{key:"render",value:function(){var e=this.props,t=e.show,a=(e.transparent,e.onClick),n=e.className,o=r(e,["show","transparent","onClick","className"]),s=(0,p.default)("ex-widget-layer",{transparent:this.props.transparent},n);return t?d.default.createElement("div",i({ref:"mask",className:s,onClick:this.delegate(a)},o),this.props.children):null}}]),t}(u.Component);m.propTypes={show:u.PropTypes.bool.isRequired,transparent:u.PropTypes.bool},m.defaultProps={transparent:!1},t.default=m},257:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(12),d=n(u),f=a(39),p=(n(f),a(248)),m=n(p),h=a(256),g=n(h),b=function(e){function t(e){o(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.dismiss=function(e){a.setState({show:!1})},a.state={show:a.props.show,presets:{success:"&#xe61c;",failure:"&#xe61d;",warning:"&#xe601;"}},a}return l(t,e),c(t,[{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"renderIcon",value:function(){var e=this.props.icon;return Object.keys(this.state.presets).includes(e)?d.default.createElement("i",{className:"icon",dangerouslySetInnerHTML:{__html:this.state.presets[e]}}):"loading"===e?d.default.createElement("i",{className:"icon waiting"}):/^&#\w+;$/.test(e)?d.default.createElement("i",{className:"icon",dangerouslySetInnerHTML:{__html:e}}):/^(https?)?\/\//.test(e)?d.default.createElement("i",{className:"icon"},d.default.createElement("img",{src:e})):d.default.createElement("i",{className:"icon"},"")}},{key:"render",value:function(){var e=this.props,t=(e.icon,e.message),a=e.className,n=(e.show,e.time),o=e.callback,s=void 0===o?this.dismiss:o,l=r(e,["icon","message","className","show","time","callback"]),c=(0,m.default)("toast",a);return clearTimeout(this.timer),this.timer=setTimeout(s,n),d.default.createElement(g.default,{transparent:!0,show:this.state.show},d.default.createElement("div",i({className:c},l),this.renderIcon(),d.default.createElement("span",{className:"text"},t||"木有提示")))}}]),t}(u.Component);b.propTypes={icon:u.PropTypes.string,message:u.PropTypes.string,show:u.PropTypes.bool,time:u.PropTypes.number,callback:u.PropTypes.func},b.defaultProps={show:!0,time:3e3},t.default=b},258:function(e,t,a){(function(e){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(n=(s=l.next()).done)&&(a.push(s.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&l.return&&l.return()}finally{if(r)throw o}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(12),u=n(c),d=(a(188),a(248)),f=(n(d),a(247)),p=n(f),m=a(249),h=n(m),g=a(259),b=n(g),v=a(260),y=(n(v),a(257)),E=n(y),w=a(261),N=n(w),x=a(262),k=n(x),j=function(t){function a(e){r(this,a);var t=o(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return O.call(t),t.props.params.id?t.state={title:"编辑地址",model:null}:t.state={title:"新增地址",model:{name:CF.member.memberName,mobile:CF.member.memberMobile}},t}return s(a,t),i(a,[{key:"componentDidMount",value:function(){var t=this;this.props.params.id&&(this.request=e.get("/account/ajax/address",{id:this.props.params.id},function(e){if(200===e.code){var a=e.data.entity;a.projectName=a.projectName||"其他社区",a.roomName=a.roomName||"其他房屋",t.setState({model:a})}}))}},{key:"componentWillUnmount",value:function(){this.request&&this.request.abort()}},{key:"checkModel",value:function(){var e=null,t=this.state.model;return t.name?t.mobile?/^\d{11}$/.test(t.mobile)?t.provinceId&&t.cityId&&t.areaId?t.projectId||t.projectName?this.state.hasGroup&&!t.groupId?e="请选择组团":!t.projectId||t.roomId||t.roomName?t.roomId||t.address||(e="请填写地址"):e="请选择房屋":e="请选择社区":e="请选择地区":e="手机格式错误":e="请填写手机":e="请填写姓名",e}},{key:"renderLocation",value:function(){var e=this.state.model;return e.provinceId?u.default.createElement("div",{className:"item tapable",onClick:this.handleLocation},u.default.createElement("span",{className:"label"},"所在地区"),u.default.createElement("div",{className:"text text-ellipsis text-right"},e.provinceName,"-",e.cityName,"-",e.areaName||"其他地区"),u.default.createElement("i",{className:"icon text-gray"},"")):u.default.createElement("div",{className:"item tapable",onClick:this.handleLocation},u.default.createElement("span",{className:"label"},"所在地区"),u.default.createElement("div",{className:"text text-right text-gray"},"请选择"),u.default.createElement("i",{className:"icon text-gray"},""))}},{key:"getCities",value:function(t){var a=this;return this.state.cities?t(this.state.cities):void e.get("/account/ajax/areadict",function(e){200===e.code&&a.setState({cities:JSON.parse(e.data.areaJsonStr)},function(){t(a.state.cities)})})}},{key:"renderProject",value:function(){var e=this.state.model;return e.projectName?u.default.createElement("div",{className:"item tapable",onClick:this.handleProject},u.default.createElement("span",{className:"label"},"所属社区"),u.default.createElement("div",{className:"text text-right"},e.projectName,e.street&&u.default.createElement("div",{className:"brief"},e.street)),u.default.createElement("i",{className:"icon text-gray"},"")):u.default.createElement("div",{className:"item tapable",onClick:this.handleProject},u.default.createElement("span",{className:"label"},"所属社区"),u.default.createElement("div",{className:"text text-right text-gray"},"请选择"),u.default.createElement("i",{className:"icon text-gray"},""))}},{key:"getProjects",value:function(t){var a=this,n=this.state.model,r=this.state.projects||{},o=n.cityId+":"+n.areaId;return r[o]?t(r[o]):void e.get("/account/ajax/district",{cityId:n.cityId,areaId:n.areaId},function(e){200===e.code&&(r[o]=e.data.list.map(function(e){return e.label=e.name,e}),r[o].push({id:null,label:"其他社区"}),a.setState({projects:r},function(){t(r[o])}))})}},{key:"renderGroup",value:function(){var e=this.state.model;
this.state.groups;return e.groupId?u.default.createElement("div",{className:"item tapable",onClick:this.handleGroups},u.default.createElement("span",{className:"label"},"所属组团"),u.default.createElement("div",{className:"text text-right"},e.groupName),u.default.createElement("i",{className:"icon text-gray"},"")):this.state.hasGroup?u.default.createElement("div",{className:"item tapable",onClick:this.handleGroups},u.default.createElement("span",{className:"label"},"所属组团"),u.default.createElement("div",{className:"text text-right text-gray"},"请选择"),u.default.createElement("i",{className:"icon text-gray"},"")):null}},{key:"getGroups",value:function(t){var a=this,n=this.state.model,r=this.state.groups||{},o=n.projectId;return r[o]?t(r[o]):void e.get("/account/ajax/groups",{projectId:n.projectId},function(e){200===e.code&&(r[o]=e.data.list.map(function(e){return{id:e.groupId,label:e.groupName,address:e.groupAddress}}),a.setState({groups:r},function(){t(r[o])}))})}},{key:"renderHouse",value:function(){var e=this.state.model;return!e.projectId&&e.projectName?null:e.roomName?u.default.createElement("div",{className:"item tapable",onClick:this.handleHouse},u.default.createElement("span",{className:"label"},"所属房屋"),u.default.createElement("div",{className:"text text-right"},e.roomName),u.default.createElement("i",{className:"icon text-gray"},"")):u.default.createElement("div",{className:"item tapable",onClick:this.handleHouse},u.default.createElement("span",{className:"label"},"所属房屋"),u.default.createElement("div",{className:"text text-right text-gray"},"请选择"),u.default.createElement("i",{className:"icon text-gray"},""))}},{key:"getHouses",value:function(t){var a=this,n=this.state.model,r=this.state.houses||{},o=n.projectId;return r[o]?t(r[o]):void(n.groupName?e.get("/house/ajax/bygroup",{groupName:n.groupName,projectId:n.projectId},function(e){200===e.code&&(r[o]=e.data.list.map(function(e){return{id:e.id,label:e.name}}),r[o].push({id:null,label:"其他房屋"}),a.setState({houses:r},function(){t(r[o])}))}):e.get("/house/ajax/list",{projectId:n.projectId},function(e){200===e.code&&(r[o]=e.data.list.map(function(e){return{id:e.room.id,label:e.room.name}}),r[o].push({id:null,label:"其他房屋"}),a.setState({houses:r},function(){t(r[o])}))}))}},{key:"renderRemark",value:function(){var e=this.state.model;return e.roomId?null:u.default.createElement("div",{className:"item"},u.default.createElement("div",{className:"text"},u.default.createElement("textarea",{className:"textarea",rows:"3",placeholder:"请填写详细地址",name:"address",maxLength:100,value:e.address||"",onChange:this.setModel}),u.default.createElement("div",{className:"textarea-counter"},u.default.createElement("span",null,(e.address||"").length),"/100")))}},{key:"render",value:function(){var e=this.state.model;return u.default.createElement(p.default,{className:"address",title:this.state.title,widget:this.state.widget},u.default.createElement("section",{className:"main has-footer"},!e&&u.default.createElement("div",{className:"loadmore"},u.default.createElement("i",{className:"loading"}),u.default.createElement("span",{className:"tips text-gray"},"正在加载")),e&&u.default.createElement("div",{className:"noop"},u.default.createElement("div",{className:"list compact overlap"},u.default.createElement("label",{className:"item"},u.default.createElement("span",{className:"label"},"姓名"),u.default.createElement(b.default,{className:"input",type:"text",placeholder:"联系人姓名",name:"name",value:e.name||"",maxLength:"20",onChange:this.setModel})),u.default.createElement("label",{className:"item"},u.default.createElement("span",{className:"label"},"手机"),u.default.createElement(b.default,{className:"input",type:"tel",pattern:"[0-9]*",placeholder:"联系人手机",name:"mobile",value:e.mobile||"",maxLength:"11",onChange:this.setModel}))),u.default.createElement("div",{className:"list"},this.renderLocation(),this.renderProject(),this.renderGroup(),this.renderHouse(),this.renderRemark()))),u.default.createElement(h.default,{component:"footer",className:"btm-fixed"},u.default.createElement("div",{className:"button-group compact"},u.default.createElement("button",{className:"button driving square",onClick:this.handleSubmit},"保存地址"))))}}]),a}(c.Component);j.propTypes={},j.defaultProps={};var O=function(){var t=this;this.clearWidget=function(){t.setState({widget:null})},this.handleSubmit=function(){var a=t.checkModel();if(a)return t.setState({widget:u.default.createElement(E.default,{icon:"failure",message:a,callback:t.clearWidget})});var n=Object.assign({},t.state.model);n.projectName=n.projectId?n.projectName:null,n.roomName=n.roomId?n.roomName:null,t.setState({widget:u.default.createElement(E.default,{icon:"loading",message:"请稍后",callback:t.clearWidget})}),e.post("/account/ajax/address",n,function(e){200===e.code?t.setState({widget:u.default.createElement(E.default,{icon:"success",message:"保存成功",callback:function(){history.back()}})}):t.setState({widget:u.default.createElement(E.default,{icon:"failure",message:"保存失败",callback:t.clearWidget})})})},this.setModel=function(e){t.state.model[e.target.name]=e.target.value,t.setState({model:t.state.model})},this.handleLocation=function(){var e=t.state.model;t.setState({widget:u.default.createElement(E.default,{icon:"loading",message:"请稍后",callback:t.clearWidget})}),t.getCities(function(a){var n={list:a,provinceId:e.provinceId,cityId:e.cityId,areaId:e.areaId,onCancel:t.clearWidget,onChoose:function(a,n){var r=JSON.stringify(e),o=l(a,3),s=o[0],i=o[1],c=o[2];e.provinceId=s.id,e.provinceName=s.label,e.cityId=i.id,e.cityName=i.label,e.areaId=c.id,e.areaName=c.label,r!==JSON.stringify(e)&&(e.projectId=null,e.projectName=null,e.street=null,e.groupId=null,e.groupName=null,e.groupAddress=null,e.roomId=null,e.roomName=null,e.address=null,t.setState({hasGroup:0})),t.setState({model:e},t.clearWidget)}};t.setState({widget:u.default.createElement(k.default,n)})})},this.handleProject=function(){var e=t.state.model;return e.provinceId&&e.cityId&&e.areaId?(t.setState({widget:u.default.createElement(E.default,{icon:"loading",message:"请稍后",callback:t.clearWidget})}),void t.getProjects(function(a){var n={title:"所属社区",groups:[{items:a}],selected:[e.projectId?a.findIndex(function(t){return t.id==e.projectId}):e.projectName?a.length-1:0],onCancel:t.clearWidget,onChoose:function(a,n){var r=JSON.stringify(e),o=a[0];e.projectId=o.id,e.projectName=o.label,e.street=o.street,r!==JSON.stringify(e)&&(e.groupId=null,e.groupName=null,e.groupAddress=null,e.roomId=null,e.roomName=null,e.address=null),t.setState({model:e,hasGroup:o.isGroupAddress},t.clearWidget)}};t.setState({widget:u.default.createElement(N.default,n)})})):t.setState({widget:u.default.createElement(E.default,{icon:"failure",message:"请先选择地区",callback:t.clearWidget})})},this.handleGroups=function(){var e=t.state.model;return t.state.model.projectId?(t.setState({widget:u.default.createElement(E.default,{icon:"loading",message:"请稍后",callback:t.clearWidget})}),void t.getGroups(function(a){var n={title:"所属组团",groups:[{items:a}],selected:[e.groupId?a.findIndex(function(t){return t.id==e.groupId}):0],onCancel:t.clearWidget,onChoose:function(a,n){var r=JSON.stringify(e),o=a[0];e.groupId=o.id,e.groupName=o.label,e.groupAddress=o.address,r!==JSON.stringify(e)&&(e.roomId=null,e.roomName=null,e.address=null),t.setState({model:e},t.clearWidget)}};t.setState({widget:u.default.createElement(N.default,n)})})):t.setState({widget:u.default.createElement(E.default,{icon:"failure",message:"请先选择社区",callback:t.clearWidget})})},this.handleHouse=function(){var e=t.state.model;return e.projectId?t.state.hasGroup&&!e.groupId?t.setState({widget:u.default.createElement(E.default,{icon:"failure",message:"请先选择组团",callback:t.clearWidget})}):(t.setState({widget:u.default.createElement(E.default,{icon:"loading",message:"请稍后",callback:t.clearWidget})}),void t.getHouses(function(a){var n={title:"所属房屋",groups:[{items:a}],selected:[e.roomId?a.findIndex(function(t){return t.id==e.roomId}):e.roomName?a.length-1:0],onCancel:t.clearWidget,onChoose:function(a,n){var r=a[0];e.roomId=r.id,e.roomName=r.label,e.roomId&&(e.address=null),t.setState({model:e},t.clearWidget)}};t.setState({widget:u.default.createElement(N.default,n)})})):t.setState({widget:u.default.createElement(E.default,{icon:"failure",message:"请先选择社区",callback:t.clearWidget})})}};t.default=j}).call(t,a(244))},259:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(12),d=n(u),f=a(248),p=n(f),m=function(e){function t(){var e,a,n,r;o(this,t);for(var l=arguments.length,i=Array(l),c=0;c<l;c++)i[c]=arguments[c];return a=n=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.clean=function(){n.refs.input.focus(),n.refs.input.value="",n.refs.input.dispatchEvent(new Event("input",{bubbles:!0}))},r=a,s(n,r)}return l(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.className,a=r(e,["className"]),n=(0,p.default)("input",t);return d.default.createElement("div",{className:"input-widget"},d.default.createElement("input",i({ref:"input",required:!0,className:n},a)),d.default.createElement("i",{className:"icon text-gray",onClick:this.clean},""))}}]),t}(u.Component);t.default=m},260:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(12),d=n(u),f=a(39),p=(n(f),a(248)),m=n(p),h=a(256),g=n(h),b=function(e){function t(e){o(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.dismiss=function(e){a.setState({show:!1})},a.state={show:a.props.show},a}return l(t,e),c(t,[{key:"render",value:function(){var e=this;return d.default.createElement(g.default,{show:this.state.show},d.default.createElement("div",{className:"modal"},this.props.title&&d.default.createElement("h3",{className:"title"},this.props.title),d.default.createElement("div",{className:"content",dangerouslySetInnerHTML:{__html:this.props.message}}),d.default.createElement("footer",{className:"footer"},d.default.createElement("div",{className:"button-group compact nesting"},this.props.buttons.map(function(t,a){var n=t.text,o=t.className,s=void 0===o?"text-primary":o,l=t.onClick,c=void 0===l?e.dismiss:l,u=r(t,["text","className","onClick"]),f=(0,m.default)("button square",s);return d.default.createElement("button",i({key:a,className:f,onClick:c},u),n)})))))}}]),t}(u.Component);b.propTypes={title:u.PropTypes.string,message:u.PropTypes.string.isRequired,show:u.PropTypes.bool},b.defaultProps={show:!0},t.default=b},261:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(12),d=n(u),f=a(39),p=(n(f),a(248)),m=n(p),h=a(256),g=n(h),b=function(e){function t(e){o(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.dismiss=function(e){a.setState({show:!1})},a.handleChange=function(e,t,n){var r=a.state.selected;r[n]=t,a.setState({selected:r},function(){a.props.onChange&&a.props.onChange(e,t,n,a.state.selected,a)})},a.handleChoose=function(){if(a.props.onChoose){var e=a.props.groups.map(function(e,t){return e.items[a.state.selected[t]]});a.props.onChoose(e,a.state.selected)}},a.state={show:a.props.show,selected:a.props.selected?a.props.selected:Array(a.props.groups.length).fill(-1)},a}return l(t,e),c(t,[{key:"inValid",value:function(){var e=this.props.groups,t=this.state.selected,a=!1;return e.forEach(function(e,n){var r=e.items[t[n]];r&&r.disabled&&(a=!0)}),a}},{key:"render",value:function(){var e=this,t=this.props,a=(t.title,t.show,t.groups,t.labels),n=(t.selected,t.onChange,t.onCancel);t.onChoose,r(t,["title","show","groups","labels","selected","onChange","onCancel","onChoose"]);return d.default.createElement(g.default,{show:this.state.show,onClick:n||this.dismiss},d.default.createElement("div",{className:"picker"},d.default.createElement("div",{className:"header"},d.default.createElement("a",{className:"button literal inline text-nm text-gray",onClick:n||this.dismiss},a.cancel),d.default.createElement("h4",{className:"title"},this.props.title),d.default.createElement("a",{className:"button literal inline text-nm  text-driving",disabled:this.inValid(),onClick:this.handleChoose||this.dismiss},a.confirm)),d.default.createElement("div",{className:"content"},this.props.groups.map(function(t,a){return d.default.createElement(v,i({key:a,index:a,selected:e.state.selected[a],onChange:e.handleChange},t))}))))}}]),t}(u.Component);b.propTypes={title:u.PropTypes.string,show:u.PropTypes.bool,groups:u.PropTypes.array.isRequired,labels:u.PropTypes.object,selected:u.PropTypes.array,onChange:u.PropTypes.func,onCancel:u.PropTypes.func,onChoose:u.PropTypes.func},b.defaultProps={show:!0,groups:[],labels:{cancel:"取消",confirm:"确定"}},t.default=b;var v=function(e){function t(e){o(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleTouchStart=function(e){a.state.touching||a.props.items.length<=1||a.setState({touching:!0,animating:!1,sttrans:a.state.translate,stpoint:e.targetTouches[0].pageY,touchId:e.targetTouches[0].identifier})},a.handleTouchMove=function(e){!a.state.touching||a.props.items.length<=1||e.targetTouches[0].identifier===a.state.touchId&&(e.preventDefault(),a.setState({translate:a.state.sttrans+(e.targetTouches[0].pageY-a.state.stpoint)}))},a.handleTouchEnd=function(e){if(a.state.touching&&!(a.props.items.length<=1)){var t=a.props,n=t.height,r=t.itemHeight,o=n/r,s=(o-1)/2,l=a.props.items.length,i=a.state.translate;if(i>s*r)i=s*r;else if(i<(-l+s+1)*r)i=(-l+s+1)*r;else if(i%r!==0){var c=i%r;Math.abs(c)>r/2?i+=c>0?r-c:-r-c:i-=c}var u=a.state.selected;a.setState({touching:!1,animating:!0,sttrans:0,stpoint:0,touchId:null,selected:s-i/r,translate:i},function(){u!==a.state.selected&&a.handleChange()})}},a.state={touchId:null,touching:!1,stpoint:0,sttrans:0,translate:0,selected:a.props.selected,animating:a.props.animation},a}return l(t,e),c(t,[{key:"handleChange",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.props,a=t.items,n=t.index;e&&this.props.onChange(a[this.state.selected],this.state.selected,n)}},{key:"componentDidMount",value:function(){this.adjustOffset(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.adjustOffset(e)}},{key:"adjustOffset",value:function(e){var t=this,a=e.selected,n=e.items,r=e.height,o=e.itemHeight;if(0!==n.length){var s=a<0;a>n.length-1&&(a=n.length-1),a<0&&(a=0);var l=r/o,i=(l-1)/2;this.setState({touching:!1,animating:!0,sttrans:0,stpoint:0,touchId:null,selected:a,translate:(i-a)*o},function(){t.handleChange(s)})}}},{key:"render",value:function(){var e={transform:"translateY("+this.state.translate+"px)",transition:this.state.animating?"transform .3s":"none"};return d.default.createElement("div",{className:"group",onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd},d.default.createElement("div",{className:"roller",style:e},this.props.items.map(function(e,t){return d.default.createElement("div",{key:t,className:(0,m.default)("item",{disabled:e.disabled}),dangerouslySetInnerHTML:{__html:e.label}})})))}}]),t}(u.Component);v.propTypes={height:u.PropTypes.number,itemHeight:u.PropTypes.number,aniamtion:u.PropTypes.bool,items:u.PropTypes.array.isRequired,index:u.PropTypes.number,selected:u.PropTypes.number,onChange:u.PropTypes.func},v.defaultProps={height:238,itemHeight:34,animation:!0,index:0,selected:-1,onChange:function(){}}},262:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=a(12),c=n(i),u=a(261),d=n(u),f=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.updateGroup=function(e,t,n,r){var o=a.state.groups;0===n&&(o[1]={items:e.list.map(function(e){return{id:e.id,label:e.name,disabled:e.disabled,list:e.districts}})},r[1]=-1),1===n&&(o[2]={items:e.list.map(function(e){return{id:e.id,label:e.name,disabled:e.disabled}})},r[2]=0),a.setState({groups:o,selected:r})},a.state=a.parseData(a.props.list),a}return s(t,e),l(t,[{key:"parseData",value:function(e){var t=Array(3).fill({items:[]}),a=Array(3).fill(-1);t[0]={items:e.map(function(e){return{id:e.id,label:e.name,disabled:e.disabled,list:e.regions}})};var n=this.props,r=n.provinceId,o=n.cityId,s=n.areaId;return r&&(a[0]=t[0].items.findIndex(function(e){return e.id==r}),o&&(t[1]={items:t[0].items[a[0]].list.map(function(e,t){return{id:e.id,label:e.name,disabled:e.disabled,list:e.districts}})},a[1]=t[1].items.findIndex(function(e){return e.id==o}),s&&(t[2]={items:t[1].items[a[1]].list.map(function(e,t){return e.id==s&&(a[2]=t),{id:e.id,label:e.name,disabled:e.disabled}})},a[2]=t[2].items.findIndex(function(e){return e.id==s})))),{groups:t,selected:a}}},{key:"render",value:function(){var e={title:"所在地区",selected:this.state.selected,groups:this.state.groups,onChange:this.updateGroup,onCancel:this.props.onCancel,onChoose:this.props.onChoose};return c.default.createElement(d.default,e)}}]),t}(c.default.Component);f.propTypes={list:i.PropTypes.array.isRequired,provinceId:i.PropTypes.number,cityId:i.PropTypes.number,areaId:i.PropTypes.number},f.defaultProps={},t.default=f}});